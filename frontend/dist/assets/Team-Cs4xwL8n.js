import{r as t,U as j,j as e,a as p}from"./index-g8GziE3t.js";import{A as u}from"./AdminNavbar-BqDe4lKh.js";import{U as N}from"./UserSideBar-DC-s98j9.js";import{P as w}from"./ProfileSidebar-BIv84Ts5.js";import{c as g}from"./index-DmNBRChd.js";import"./ess-121-DfLSNCpt.js";import"./index-CTpsVrPL.js";const v="http://localhost:3000",m=()=>{const{user:s}=t.useContext(j),[n,i]=t.useState([]),[c,f]=t.useState(!0),[d,o]=t.useState(null);return t.useEffect(()=>{(async()=>{var a,x;if(s!=null&&s._id)try{const r=await p.get(`${v}/api/referrals/${s==null?void 0:s._id}`);r.status===200?i(r.data.referrals):o("Failed to fetch referrals")}catch(r){console.error("Error fetching referrals:",r),o(((x=(a=r.response)==null?void 0:a.data)==null?void 0:x.message)||"Something went wrong")}finally{f(!1)}})()},[s==null?void 0:s._id]),c?e.jsx("p",{children:"Loading referrals..."}):d?e.jsxs("p",{children:["Error: ",d]}):e.jsxs("div",{className:"col-12 col-md-6 p-1",children:[e.jsx("h4",{className:"py-2",children:"Reffrele"}),n.length>0?n.map((l,a)=>e.jsx("div",{className:"list text-black rounded-1 w-100 shadow-xl bg-white d-flex align-items-center p-1",children:e.jsxs("div",{className:"list-item w-100 gap-2 d-flex align-items-center p-2 justify-content-between",children:[e.jsx("div",{className:"wicon text-green bg-white p-2 rounded-full",children:e.jsx(g,{})}),e.jsxs("div",{className:"wUser d-flex flex-column ",children:[e.jsx("h6",{className:"",children:l.name||"Unknown User"}),e.jsx("p",{className:"text-muted",children:l.email||"No Email"})]}),e.jsx("div",{className:"credit ms-auto",children:e.jsx("span",{children:"₹0"})})]})},a)):e.jsx("p",{children:"No referrals found"})]})},y="http://localhost:3000",h=()=>{const{user:s}=t.useContext(j),[n,i]=t.useState([]),[c,f]=t.useState(!0),[d,o]=t.useState(null);return t.useEffect(()=>{(async()=>{var a,x;if(s!=null&&s._id)try{const r=await p.get(`${y}/api/getReferredBy/${s==null?void 0:s._id}`);r.status===200?i(r.data.referredBy):o("Failed to fetch referrals")}catch(r){console.error("Error fetching referrals:",r),o(((x=(a=r.response)==null?void 0:a.data)==null?void 0:x.message)||"Something went wrong")}finally{f(!1)}})()},[s==null?void 0:s._id]),c?e.jsx("p",{children:"Loading referrals..."}):d?e.jsxs("p",{children:["Error: ",d]}):e.jsxs("div",{className:"col-12 col-md-6 p-1",children:[e.jsx("h4",{className:"py-2",children:"ReffredBy"}),n.length>0?n.map((l,a)=>e.jsx("div",{className:"list text-black rounded-1 w-100 shadow-xl bg-white d-flex align-items-center p-1 ",children:e.jsxs("div",{className:"list-item w-100 gap-2 d-flex align-items-center p-2 justify-content-between",children:[e.jsx("div",{className:"wicon text-green bg-white p-2 rounded-full",children:e.jsx(g,{})}),e.jsxs("div",{className:"wUser d-flex flex-column ",children:[e.jsx("h6",{className:"",children:l.name||"Unknown User"}),e.jsx("p",{className:"text-muted",children:l.email||"No Email"})]}),e.jsx("div",{className:"credit ms-auto",children:e.jsx("span",{children:"₹0"})})]})},a)):e.jsx("p",{children:"No referrals found"})]})},_=()=>{const[s,n]=t.useState("referral"),i=c=>{n(c)};return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsx(N,{}),e.jsx(w,{}),e.jsxs("div",{className:"py-28",children:[e.jsx("section",{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 text-white d-md-none d-flex flex-wrap align-items-center justify-content-between",children:[e.jsx("div",{className:"col-6 pe-1",children:e.jsx("div",{className:`earning rounded-1  p-2 text-center ${s==="referral"?"bg-green-100":"bg-green"}`,onClick:()=>i("referral"),children:e.jsx("h4",{children:"Referral"})})}),e.jsx("div",{className:"col-6 ps-1",children:e.jsx("div",{className:`history rounded-1 bg-blue p-2 text-center ${s==="referredBy"?"bg-blue":"bg-blue-100"}`,onClick:()=>i("referredBy"),children:e.jsx("h4",{children:"ReferredBy"})})})]})})})}),e.jsx("section",{className:" d-md-none",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 d-flx ",children:[s==="referral"&&e.jsx(m,{}),s==="referredBy"&&e.jsx(h,{})]})})})}),e.jsx("section",{className:"d-none d-md-flex",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 d-flex justify-content-between",children:[e.jsx(m,{}),e.jsx(h,{})]})})})})]})]})};export{_ as default};
