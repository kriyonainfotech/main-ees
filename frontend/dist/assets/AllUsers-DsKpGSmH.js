import{r as i,u as b,j as e,a as r}from"./index-g8GziE3t.js";import{a as f}from"./index-CTpsVrPL.js";import{F as N}from"./index-DmNBRChd.js";import{A as g,a as y}from"./AdminSidebar-DtemeWQs.js";import"./ess-121-DfLSNCpt.js";const h="http://localhost:3000",w=()=>{const[x,j]=i.useState([]),m=b(),a=async()=>{try{const s=await r.get(`${h}/auth/getAllUser`,{headers:{"Content-Type":"application/json"}}),t=await s.data;j(t.user),console.log(t,"AllUser"),s.status===200&&console.log("All User Successful...")}catch(s){s.code==="ECONNABORTED"?console.error("Request timed out"):console.error("Error:",s.message)}};i.useEffect(()=>{a()},[]);const p=async s=>{console.log(s);try{const t=await r.delete(`${h}/auth/deleteUser`,{headers:{"Content-Type":"application/json"},data:{id:s}});console.log(t.data,"delete data"),t.status===200&&(alert("User deleted successfully"),console.log("User deleted successfully"),a())}catch(t){console.log(t)}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx(y,{}),e.jsx("section",{className:"mt-32",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card bg-base-100 shadow-xl mt-5",children:[e.jsx("div",{className:"card-header text-xl text-bold z-30 py-3",children:"All Users"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-bordered flex z-0 border p-5",children:[e.jsx("thead",{className:"text-bold text-[15px] text-black z-30",children:e.jsxs("tr",{children:[e.jsx("th",{children:"SrNo"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Contact"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"Business Name"}),e.jsx("th",{children:"Business Category"}),e.jsx("th",{children:"Business Address"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:[...x].reverse().map((s,t)=>{var l,d,n,c,o;return e.jsxs("tr",{children:[e.jsx("th",{children:t+1}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.phone}),e.jsxs("td",{children:[(l=s==null?void 0:s.address)==null?void 0:l.area," ",(d=s==null?void 0:s.address)==null?void 0:d.city," ",(n=s==null?void 0:s.address)==null?void 0:n.state,(c=s==null?void 0:s.address)==null?void 0:c.country," ",(o=s==null?void 0:s.address)==null?void 0:o.pincode]}),e.jsx("td",{children:s.businessName}),e.jsx("td",{children:s.businessCategory}),e.jsx("td",{children:s.businessAddress}),e.jsxs("td",{className:"d-flex",children:[e.jsx("button",{onClick:()=>p(s._id),className:"btn-xl m-1 fs-3 text-primary",children:e.jsx(f,{})}),e.jsx("button",{onClick:()=>m("/admin/editUser",{state:s}),className:"btn-xl fs-4 text-green-500",children:e.jsx(N,{})})]})]},t)})})]})})]})})})]})};export{w as default};
